(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{372:function(e,t,a){e.exports=a.p+"static/media/robot-prod.c7578911.png"},431:function(e,t,a){"use strict";var n=a(18),r=a.n(n),o=a(11),i=a.n(o),s=a(66),c=a.n(s),l=a(704),u=a(706),p=a(142),h=a(1),m=a.n(h),d=a(10),g=a(64),f=a(2),v=a(6),w=a(393),y=a(388),b=a(28),S=a(705),k=a(430),E="#ccc",x="#2f95dc";function C(e){return m.a.createElement(w.a,{name:e.name,size:26,style:{marginBottom:-3},color:e.focused?x:E})}var O=a(4),P=a.n(O),I=a(5),T=a.n(I),H=a(7),L=a.n(H),j=a(3),B=a.n(j),z=a(8),V=a.n(z),R=a(124),F=a(29),A=a(45),M=a(17),_=a(31),D=a(82),N=a(198),G=a.n(N),J=a(74),W=a(285),Z=a(9),U=a.n(Z);function Y(e){return m.a.createElement(M.a,U()({},e,{style:[e.style,{fontFamily:"space-mono"}]}))}var X=a(67);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var K=function(e){function t(){return P()(this,t),L()(this,B()(t).apply(this,arguments))}return V()(t,e),T()(t,[{key:"render",value:function(){var e=this,t=this.props.item.id;return m.a.createElement(J.Card,null,m.a.createElement(_.a,{onPress:function(){return e.props.state.navigate("IssueScreen",{id:e.props.item.id,socket:"",title:e.props.item.title,showHeader:!1,pageCount:e.props.item.link[3]["pse:count"]})}},m.a.createElement(J.CardItem,{cardBody:!0,button:!0,onPress:function(){return e.props.state.navigate("IssueScreen",{id:t,socket:e.props.state.socket,title:e.props.item.title,showHeader:!1,pageCount:e.props.item.link[3]["pse:count"]})}},m.a.createElement(F.a,{resizeMode:"contain",source:{uri:"http://l2.mml2.net:2202"+this.props.item.link[0].href},style:{height:277,width:180,flex:1}}))))}}]),t}(m.a.PureComponent),Q=function(e){function t(){return P()(this,t),L()(this,B()(t).apply(this,arguments))}return V()(t,e),T()(t,[{key:"render",value:function(){var e=this;return m.a.createElement(J.Card,{button:!0,onPress:function(){return alert("This is a card")}},m.a.createElement(_.a,{onPress:function(){return e.props.state.navigate("IssueScreen",{id:e.props.item.id,socket:"",title:e.props.item.title,showHeader:!1,pageCount:e.props.item.link[3]["pse:count"]})}},m.a.createElement(J.CardItem,{cardBody:!0},m.a.createElement(F.a,{resizeMode:"contain",source:{uri:"http://l2.mml2.net:2202"+this.props.item.link[0].href},style:{height:277,width:180,flex:1}}))))}}]),t}(m.a.PureComponent),$=function(e){function t(){var e,a;P()(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=L()(this,(e=B()(t)).call.apply(e,[this].concat(r)))).bookIssues=function(e){var t=e.item;e.index;return m.a.createElement(K,{item:t,state:a.props.state})},a.singleBookIssue=function(e){var t=e.item;e.index;return m.a.createElement(Q,{item:t,state:a.props.state})},a}return V()(t,e),T()(t,[{key:"render",value:function(){var e=this;return this.props.item.issueCount>0?m.a.createElement(J.Card,{transparent:!0},m.a.createElement(J.CardItem,null,m.a.createElement(M.a,{style:{fontWeight:"bold",fontSize:25,color:"#595957"}},this.props.item.title)),m.a.createElement(J.CardItem,null,m.a.createElement(X.b,{style:ne.flatList,data:this.props.item.issues,horizontal:!0,windowSize:4,initialListSize:4,initialNumToRender:4,maxToRenderPerBatch:4,removeClippedSubviews:!0,renderItem:this.bookIssues.bind(this),keyExtractor:function(e,t){return t.toString()}}))):(console.log("aint big enough"),console.log("http://l2.mml2.net:2202"+this.props.item.issues.link[0].href),m.a.createElement(J.Card,{transparent:!0},m.a.createElement(J.CardItem,null,m.a.createElement(M.a,{style:{fontWeight:"bold",fontSize:25,color:"#595957"}},this.props.item.title)),m.a.createElement(J.CardItem,null,m.a.createElement(J.Card,{button:!0,onPress:function(){return alert("This is a card")}},m.a.createElement(_.a,{onPress:function(){return e.props.state.navigate("IssueScreen",{id:e.props.item.issues.id,socket:"",title:e.props.item.issues.title,showHeader:!1,pageCount:e.props.item.issues.link[3]["pse:count"]})}},m.a.createElement(J.CardItem,{cardBody:!0},m.a.createElement(F.a,{resizeMode:"contain",source:{uri:"http://l2.mml2.net:2202"+this.props.item.issues.link[0].href},style:{height:277,width:180}})))))))}}]),t}(m.a.PureComponent),ee=function(e){function t(){var e,a;P()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=L()(this,(e=B()(t)).call.apply(e,[this].concat(o)))).state={isLoading:!0,isConnected:!1,noStorage:!0,books:[],data:[],search:""},a.renderHeader=function(){return m.a.createElement(W.a,{placeholder:"Type Here...",lightTheme:!0,round:!0,onChangeText:function(e){return a.searchFilterFunction(e)},autoCorrect:!1})},a.searchFilterFunction=function(e){a.setState({search:e});var t=a.state.books.filter((function(t){var a=t.title.toUpperCase()+"   \n      "+t.title.toUpperCase()+" "+t.title.toUpperCase(),n=e.toUpperCase();return a.indexOf(n)>-1}));a.setState({data:t})},a.updateSearch=function(e){a.setState({search:e})},a.GettingBooks=function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(D.a.getItem("books"));case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=[];case 6:e=t.t0,a.setState({books:JSON.parse(e),noStorage:!1,isLoading:!1,data:JSON.parse(e)}),t.next=13;break;case 10:t.prev=10,t.t1=t.catch(0),console.log(t.t1);case 13:case"end":return t.stop()}}),null,null,[[0,10]])},a.HandleHome=function(e){var t,n,o,i;return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:for(t=[],n=0;n<e.length;n++)i=JSON.parse(e[n].issues),(o=i.length)||(o=0),t.push({title:e[n].title,id:e[n].id,issues:i,issueCount:o});return a.setState({books:t,isLoading:!1}),s.prev=3,s.next=6,r.a.awrap(D.a.setItem("books",JSON.stringify(t)));case 6:s.next=11;break;case 8:s.prev=8,s.t0=s.catch(3),console.log(error);case 11:case"end":return s.stop()}}),null,null,[[3,8]])},a._renderItem=function(e){var t=e.item;e.index;return m.a.createElement($,{item:t,state:a.state})},a}return V()(t,e),T()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.navigation.navigate;this.setState({navigate:t});var a=G()("http://l2.mml2.net:3000",{transports:["websocket"]});this.setState({socket:a}),a.on("connect",(function(){e.setState({isConnected:!0})})),a.on("GotHome",(function(t){console.log("got books back"),e.HandleHome(t)})),this.GettingBooks(),a.emit("GetHome","mg")}},{key:"componentWillUnmount",value:function(){console.log("trashing")}},{key:"HandleIssue",value:function(e){for(var t=this.state.books.find((function(t){return t.id===e.tempId.toString()})),a=0;a<e.entry.length;a++){var n={title:e.entry[a].title,id:e.entry[a].id,img:e.entry[a].link[0].href};t.issues.push(n)}}},{key:"render",value:function(){var e=this.state.search;return this.state.isLoading?m.a.createElement(v.a,{style:ne.container},m.a.createElement(A.a,{style:ne.container,contentContainerStyle:ne.contentContainer},m.a.createElement(v.a,{style:ne.welcomeContainer},m.a.createElement(F.a,{source:a(372),style:ne.welcomeImage})),m.a.createElement(v.a,{style:ne.getStartedContainer},m.a.createElement(te,null),m.a.createElement(M.a,{style:ne.getStartedText},"Get started by opening2"),m.a.createElement(v.a,{style:[ne.codeHighlightContainer,ne.homeScreenFilename]},m.a.createElement(Y,null,"screens/HomeScreen.js")),m.a.createElement(M.a,{style:ne.getStartedText},"Change this text and your app will automatically reload.")),m.a.createElement(v.a,{style:ne.helpContainer},m.a.createElement(_.a,{onPress:ae,style:ne.helpLink},m.a.createElement(M.a,{style:ne.helpLinkText},"Help, it didn\u2019t automatically reload!")))),m.a.createElement(v.a,{style:ne.tabBarInfoContainer},m.a.createElement(M.a,{style:ne.tabBarInfoText},"This is a tab bar. You can edit it in:"),m.a.createElement(v.a,{style:[ne.codeHighlightContainer,ne.navigationFilename]},m.a.createElement(Y,{style:ne.codeHighlightText},"navigation/MainTabNavigator.js")))):m.a.createElement(v.a,{style:ne.container},m.a.createElement(W.a,{placeholder:"Type Here...",onChangeText:this.searchFilterFunction,lightTheme:!0,value:e}),m.a.createElement(X.b,{style:ne.flatList,data:this.state.data,windowSize:4,initialListSize:4,initialNumToRender:4,maxToRenderPerBatch:4,removeClippedSubviews:!0,keyExtractor:function(e){return e.title},renderItem:this._renderItem.bind(this)}))}}]),t}(h.Component);function te(){return m.a.createElement(M.a,{style:ne.developmentModeText},"You are not in development mode: your app will run at full speed.")}function ae(){R.a("https://docs.expo.io/versions/latest/workflow/up-and-running/#cant-see-your-changes")}ee.navigationOptions=function(e){e.navigation;return{headerTitle:"Comic Library",headerShown:!0,headerTitleStyle:{textAlign:"center",alignSelf:"center"},headerRight:m.a.createElement(v.a,null)}};var ne=f.a.create({container:{flex:1,backgroundColor:"#fff"},flatList:{flex:1,backgroundColor:"#fff"},developmentModeText:{marginBottom:20,color:"rgba(0,0,0,0.4)",fontSize:14,lineHeight:19,textAlign:"center"},row:{flex:1,justifyContent:"space-around"},contentContainer:{paddingTop:30},welcomeContainer:{alignItems:"center",marginTop:10,marginBottom:20},welcomeImage:{width:100,height:80,resizeMode:"contain",marginTop:3,marginLeft:-10},getStartedContainer:{alignItems:"center",marginHorizontal:50},homeScreenFilename:{marginVertical:7},codeHighlightText:{color:"rgba(96,100,109, 0.8)"},codeHighlightContainer:{backgroundColor:"rgba(0,0,0,0.05)",borderRadius:3,paddingHorizontal:4},getStartedText:{fontSize:17,color:"rgba(96,100,109, 1)",lineHeight:24,textAlign:"center"},tabBarInfoContainer:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({position:"absolute",bottom:0,left:0,right:0},d.a.select({ios:{shadowColor:"black",shadowOffset:{width:0,height:-3},shadowOpacity:.1,shadowRadius:3},android:{elevation:20}}),{alignItems:"center",backgroundColor:"#fbfbfb",paddingVertical:20}),tabBarInfoText:{fontSize:17,color:"rgba(96,100,109, 1)",textAlign:"center"},navigationFilename:{marginTop:5},helpContainer:{marginTop:15,alignItems:"center"},helpLink:{paddingVertical:15},helpLinkText:{fontSize:14,color:"#2e78b7"},titleCard:{flex:1,minWidth:300}}),re=a(218);function oe(){return m.a.createElement(A.a,{style:ie.container},m.a.createElement(re.b,null))}oe.navigationOptions={title:"Links"};var ie=f.a.create({container:{flex:1,paddingTop:15,backgroundColor:"#fff"}});function se(){return m.a.createElement(re.a,null)}se.navigationOptions={title:"app.json"};var ce=a(32),le=a(71),ue=a(199),pe=(a(672),function(e){function t(){var e,a;P()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=L()(this,(e=B()(t)).call.apply(e,[this].concat(o)))).state={page:0,isLoading:!0,headerTitle:"Avengers",headerShown:!1,pages:[],vertical:!1},a.checkVertical=function(e,t,n){var o,i,s;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,r.a.awrap(D.a.getItem("vertical"));case 3:if(c.t0=c.sent,c.t0){c.next=6;break}c.t0="false";case 6:if("true"==c.t0){for(console.log("here"),o=a.state.pages,i=0;i<a.state.pageCount;i++)s="http://l2.mml2.net:2202/opds-comics/comicreader/"+a.state.id+"?page="+i,o.push(s);a.setState({pages:o,vertical:!0,isLoading:!1,width:e,height:t,id:n.getParam("id"),pageCount:n.getParam("pageCount")})}else console.log("there"),a.setState({vertical:!1,isLoading:!1,width:e,height:t,id:n.getParam("id"),pageCount:n.getParam("pageCount")});c.next=13;break;case 10:c.prev=10,c.t1=c.catch(0),console.log(c.t1);case 13:case"end":return c.stop()}}),null,null,[[0,10]])},a._swapVertical=function(){var e,t,n;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(console.log("swapping"),!a.state.vertical){o.next=7;break}return a.setState({vertical:!1}),o.next=5,r.a.awrap(D.a.setItem("vertical","false"));case 5:o.next=11;break;case 7:return a.setState({vertical:!0}),o.next=10,r.a.awrap(D.a.setItem("vertical","true"));case 10:for(e=0;e<a.state.pageCount;e++)t="http://l2.mml2.net:2202/opds-comics/comicreader/"+a.state.id+"?page="+e,(n=a.state.pages).push(t),a.setState({pages:n});case 11:case"end":return o.stop()}}))},a}return V()(t,e),T()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.navigation;g.a.setHidden(!0),this.getPage(t),F.a.getSize("http://l2.mml2.net:2202/opds-comics/comicreader/2141?page=3&width="+ce.a.get("window").width,(function(a,n){e.props.width&&!e.props.height?e.checkVertical(e.props.width,n*(e.props.width/a),t):!e.props.width&&e.props.height?e.checkVertical(a*(e.props.height/n),e.props.height,t):e.checkVertical(a,n,t),e.props.navigation.setParams({showHeader:!1}),e.props.navigation.setParams({swapVertical:e._swapVertical})}))}},{key:"onSwipeLeft",value:function(e){console.log("LEFT");var t=this.state.page;t+=1,this.setState({page:t}),this.refs._scrollView.scrollTo({x:0,y:0,animated:!0})}},{key:"onSwipeRight",value:function(e){console.log("RIGHT");var t=this.state.page;t-=1,this.setState({page:t}),this.refs._scrollView.scrollTo({x:0,y:0,animated:!0})}},{key:"_renderItem",value:function(e){var t=this,a=e.item;e.index;return m.a.createElement(A.a,{minimumZoomScale:1,maximumZoomScale:7},m.a.createElement(A.a,{horizontal:!0},m.a.createElement(le.a,{onPress:function(e){t.state.headerShown?(t.props.navigation.setParams({showHeader:!1}),t.setState({headerShown:!1})):(t.props.navigation.setParams({showHeader:!0}),t.setState({headerShown:!0}))}},m.a.createElement(F.a,{style:{height:this.state.height,width:this.state.width},source:{uri:a,cache:"force-cache"},resizeMode:"contain"}))))}},{key:"updateSavedPage",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.a.awrap(D.a.setItem(this.state.id,this.state.page));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),null,this,[[0,5]])}},{key:"getPage",value:function(e){var t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.a.awrap(D.a.getItem(e.getParam("id")));case 3:t=a.sent,console.log(t),parseInt(t)&&this.setState({page:parseInt(t)}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),null,this,[[0,8]])}},{key:"render",value:function(){var e=this;return this.state.isLoading?m.a.createElement(v.a,null,m.a.createElement(M.a,null,'"HELLO"')):this.state.vertical?(console.log("vert"),console.log(this.state.pages),m.a.createElement(X.b,{data:this.state.pages,windowSize:3,initialListSize:3,initialNumToRender:3,maxToRenderPerBatch:3,removeClippedSubviews:!0,style:{overscrollBehaviorY:"auto",touchAction:"auto"},keyExtractor:function(e,t){return t.toString()},renderItem:this._renderItem.bind(this)})):m.a.createElement(A.a,{ref:"_scrollView",style:{paddingBottom:40},contentContainerStyle:{flexGrow:1},minimumZoomScale:1,maximumZoomScale:5},m.a.createElement(A.a,{ref:"_scrollView",style:{paddingBottom:40},contentContainerStyle:{flexGrow:1},minimumZoomScale:1,maximumZoomScale:5,horizontal:!0},m.a.createElement(le.a,{onPress:function(t){var a=t.nativeEvent,n=(a.locationX,a.locationY,a.pageX);a.pageY;if(n<80){var r=e.state.page;r-=1,e.setState({page:r}),e.updateSavedPage(),e.refs._scrollView.scrollTo({x:0,y:0,animated:!0})}else if(n>ce.a.get("window").width-80){var o=e.state.page;o+=1,e.setState({page:o}),e.updateSavedPage(),e.refs._scrollView.scrollTo({x:0,y:0,animated:!0})}else e.state.headerShown?(e.props.navigation.setParams({showHeader:!1}),e.setState({headerShown:!1})):(e.props.navigation.setParams({showHeader:!0}),e.setState({headerShown:!0}))}},m.a.createElement(F.a,{style:{height:this.state.height,width:this.state.width},source:{uri:"http://l2.mml2.net:2202/opds-comics/comicreader/"+this.state.id+"?page="+this.state.page,cache:"force-cache"}}))))}}]),t}(h.Component));pe.navigationOptions=function(e){var t=e.navigation;return{headerTitle:t.getParam("title"),headerShown:t.getParam("showHeader"),headerTitleStyle:{textAlign:"center",alignSelf:"center"},headerRight:m.a.createElement(v.a,null,m.a.createElement(ue.a,{title:"Vertical",onPress:function(){return t.getParam("swapVertical")()}}))}};var he=d.a.select({web:{headerMode:"screen"},headerLayoutPreset:"center",default:{headerLayoutPreset:"center"}}),me=Object(S.a)({Home:ee,IssueScreen:pe},he);me.navigationOptions=function(e){var t=e.navigation,a=!0;return t.state.index>0&&"IssueScreen"===t.state.routes[1].routeName&&(a=!1),{tabBarVisible:a,tabBarLabel:"Home",tabBarIcon:function(e){var t=e.focused;return m.a.createElement(C,{focused:t,name:"ios"===d.a.OS?"ios-information-circle"+(t?"":"-outline"):"md-information-circle"})}}},me.path="";var de=Object(S.a)({Links:oe},he);de.navigationOptions={tabBarLabel:"Links",tabBarIcon:function(e){var t=e.focused;return m.a.createElement(C,{focused:t,name:"ios"===d.a.OS?"ios-link":"md-link"})}},de.path="";var ge=Object(S.a)({Settings:se},he);ge.navigationOptions={tabBarLabel:"Settings",tabBarIcon:function(e){var t=e.focused;return m.a.createElement(C,{focused:t,name:"ios"===d.a.OS?"ios-options":"md-options"})}},ge.path="";var fe=Object(k.a)({HomeStack:me,LinksStack:de,SettingsStack:ge});fe.path="";var ve=fe,we=Object(b.createSwitchNavigator)({Main:ve});we.path="";var ye=Object(y.createBrowserApp)(we,{history:"hash"});m.a.createContext();function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ke(e){var t=Object(h.useState)(!1),a=c()(t,2),n=a[0],r=a[1];return n||e.skipLoadingScreen?m.a.createElement(v.a,{style:Ce.container},"ios"===d.a.OS&&m.a.createElement(g.a,{barStyle:"default"}),m.a.createElement(ye,null)):m.a.createElement(l.a,{startAsync:Ee,onError:xe,onFinish:function(){return function(e){e(!0)}(r)}})}function Ee(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(Promise.all([u.a.loadAsync([a(680),a(372)]),p.b(Se({},w.a.font,{"space-mono":a(681),Roboto:a(682),Roboto_medium:a(683)}))]));case 2:case"end":return e.stop()}}))}function xe(e){console.warn(e)}a.d(t,"a",(function(){return ke}));var Ce=f.a.create({container:{flex:1,backgroundColor:"#fff"}})},435:function(e,t,a){a(436),e.exports=a(684)},436:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},602:function(e,t){},680:function(e,t,a){e.exports=a.p+"static/media/robot-dev.54da1e98.png"},681:function(e,t,a){e.exports=a.p+"./fonts/SpaceMono-Regular.ttf"}},[[435,1,2]]]);
//# sourceMappingURL=../../5d03dba2835afe47deba.map